<template id="piano-template">
  <style>
    @keyframes fade-out {
      0% { opacity: 1.0; }
      100% { opacity: 0.0; }
    }
    .instrument {
      width: 100%;
      height: 100%;
      position: relative;
    }
    .container {
      width: 100%;
      height: 190px;
    }
    .piano-key.black {
      fill: #556;
      stroke: #222;
      stroke-width: 1.5;
      rx: 1.5;
      filter: url(#drop-shadow);
    }
    .piano-key.black:hover { fill: #777; }
    .piano-key.black:active {
      fill: #222;
      filter: none;
    }
    .piano-key.white {
      fill: #f9f9f9;
      stroke: white;
      stroke-width: 1.5;
      rx: 2;
      filter: url(#drop-shadow);
    }
    .piano-key.white:hover {
      fill: #ddd;
    }
    .piano-key.white:active {
      fill: #aaa;
      stroke: #777;
    }
    .note-hint, .midi-hint, .key-hint {
      font: 10pt sans-serif;
      fill: #666;
      text-anchor: middle;
      opacity: 0.0;
      pointer-events: none;
      user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
    }
    .key-hint.black { fill: #aaa; }
    .midi-hint { font: 9pt sans-serif; }
    .key-hint { font: 11pt sans-serif; }
    .note-hint.show, .midi-hint.show, .key-hint.show { opacity: 1.0; }
    .note-hint.always-show { opacity: 1.0; }
    .felt {
      fill : #a00;
      stroke : #222;
      stroke-width : 1.5;
      filter: url(#drop-shadow);
    }
    .animated-slide {
      transition: transform 0.5s ease-in-out;
    }
    .mini-piano {
      opacity: 0.0;
      transition: opacity 0.25s;
    }
    .mini-piano.show { opacity: 1.0; }
    .button-row {
      display: flex;
      margin: 0 5px 0 auto;
    }
    .button-row button {
      flex: 1;
      font-size: 15px;
      width: 45px;
      max-width: 40px;
      height: 25px;
      line-height: 15px;
      background-color: white;
      outline: none;
      border: 1px solid #ccc;
      user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
    }
    .button-row button.selected { background-color: #ccc; }
    .button-row button:hover { background-color: #eee; }
    .button-row button:active { background-color: #ccc; }
    .button-set { margin: 0 10px; }
    .button-set.slide { flex: 1; }
    .button-set button { margin: -1px; }
    .button-set button:first-child {
      border-top-left-radius: 12px;
      border-bottom-left-radius: 12px;
    }
    .button-set button:last-child {
      border-top-right-radius: 12px;
      border-bottom-right-radius: 12px;
    }
  </style>
  <div class="instrument">
    <svg class="container" version="1.1" viewBox="0 0 900 230">
      <defs>
        <filter id="drop-shadow">
          <feGaussianBlur in="SourceAlpha" stdDeviation="4" />
          <feOffset dx="1" dy="2" />
          <feMerge>
            <feMergeNode />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs> 
    </svg>
    <div class="button-row">
      <div class="button-set slide">
        <button id="down-octave">❮</button><button id="up-octave">❯</button>        
      </div>
      <div class="button-set">
        <button id="show-midi-hints">#</button><button id="show-note-hints">♩</button><button id="show-keyb-hints">a</button>
      </div>
    </div>
  </div>
</template>
